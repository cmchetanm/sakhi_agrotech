<section class="projects-section py-5">
  <div class="">
    <h2 class="text-center mb-5 fw-bold text-success" data-aos="fade-up">Our Projects</h2>

    <% @projects.each_with_index do |project, index| %>
      <div class="row align-items-center mb-5 <%= 'flex-row-reverse' if index.odd? %>" data-aos="fade-up" data-aos-delay="<%= 100 * (index + 1) %>">
        
        <!-- LEFT or RIGHT: Image Carousel -->
        <div class="col-md-6 project-carousel <%= 'mirrored' if index.odd? %>">
          <div id="project-carousel-<%= index %>" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
            <div class="carousel-inner">
              <% project.project_images.each_with_index do |img, i| %>
                <div class="carousel-item <%= 'active' if i == 0 %>">
                  <%= image_tag img, class: 'd-block w-100 project-img' %>
                </div>
              <% end %>
            </div>
          </div>
        </div>

        <!-- RIGHT or LEFT: Text Content -->
        <div class="col-md-6 text-center d-flex flex-column justify-content-center align-items-center px-4 mt-4 mt-md-0">
          <h3 class="fw-bold text-success"><%= project.title %></h3>
          <p class="text-muted mb-1"><strong>Location:</strong> <%= project.location %></p>
          <p class="project-description"><%= project.description %></p>
        </div>
      </div>
    <% end %>
  </div>
</section>
